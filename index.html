<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ - Personalized Photo Products & Personalized Gifts</title>
    <style>
        /* Design System - Professional Update */
        :root {
            --color-white: #FFFFFF;
            --color-black: #000000;
            --color-cream-50: #FCFCF9;
            --color-cream-100: #FFFFFD;
            --color-gray-100: #F8F9FA;
            --color-gray-200: #E9ECEF;
            --color-gray-300: #DEE2E6;
            --color-gray-400: #CED4DA;
            --color-gray-500: #ADB5BD;
            --color-gray-600: #6C757D;
            --color-gray-700: #495057;
            --color-gray-800: #343A40;
            --color-gray-900: #212529;
            
            /* Professional Purple Color Scheme */
            --color-purple-50: #F5F3FF;
            --color-purple-100: #EDE9FE;
            --color-purple-200: #DDD6FE;
            --color-purple-300: #C4B5FD;
            --color-purple-400: #A78BFA;
            --color-purple-500: #8B5CF6;
            --color-purple-600: #7C3AED;
            --color-purple-700: #6D28D9;
            --color-purple-800: #5B21B6;
            --color-purple-900: #4C1D95;
            
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-white);
            --color-text: var(--color-gray-900);
            --color-text-secondary: var(--color-gray-600);
            --color-primary: var(--color-purple-600);
            --color-primary-hover: var(--color-purple-700);
            --color-primary-active: var(--color-purple-800);
            --color-secondary: var(--color-purple-100);
            --color-border: var(--color-gray-200);
            --color-card-border: var(--color-gray-200);
            
            /* Typography */
            --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --font-family-heading: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-size-xs: 12px;
            --font-size-sm: 14px;
            --font-size-base: 16px;
            --font-size-lg: 18px;
            --font-size-xl: 20px;
            --font-size-2xl: 24px;
            --font-size-3xl: 30px;
            --font-size-4xl: 36px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            
            /* Spacing */
            --space-0: 0px;
            --space-1: 4px;
            --space-2: 8px;
            --space-3: 12px;
            --space-4: 16px;
            --space-5: 20px;
            --space-6: 24px;
            --space-7: 32px;
            --space-8: 40px;
            --space-9: 48px;
            --space-10: 64px;
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-base: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 24px;
            
            /* Shadows */
            --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            
            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Font Import */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family-base);
            background: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
            font-weight: var(--font-weight-normal);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-family-heading);
            font-weight: var(--font-weight-semibold);
            line-height: 1.2;
        }

        /* Header - Professional Update */
        header {
            background: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            padding: var(--space-4) 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: var(--shadow-sm);
        }

        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-6);
        }

        .logo {
            font-family: var(--font-family-heading);
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            letter-spacing: -0.5px;
        }

        .logo::before {
            content: "‚ú®";
            font-size: var(--font-size-xl);
        }

        nav {
            display: flex;
            gap: var(--space-6);
        }

        nav a {
            color: var(--color-gray-700);
            text-decoration: none;
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-medium);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-base);
            transition: all var(--transition-fast);
            position: relative;
        }

        nav a:hover {
            color: var(--color-primary);
            background: var(--color-purple-50);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: var(--color-primary);
            transition: width var(--transition-fast);
            border-radius: 1px;
        }

        nav a:hover::after {
            width: 80%;
        }

        .header-actions {
            display: flex;
            gap: var(--space-4);
            align-items: center;
        }

        .search-box {
            padding: var(--space-2) var(--space-4);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            width: 200px;
            transition: all var(--transition-fast);
            background: var(--color-gray-100);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
            background: var(--color-white);
        }

        .cart-btn {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-fast);
            position: relative;
            overflow: hidden;
        }

        .cart-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left var(--transition-slow);
        }

        .cart-btn:hover::before {
            left: 100%;
        }

        .cart-btn:hover {
            background: var(--color-primary-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .cart-count {
            background: white;
            color: var(--color-primary);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-bold);
            min-width: 20px;
            text-align: center;
        }

        /* Hero Section - Removed images, kept gradient background */
       .hero {
            background: linear-gradient(
                135deg,
                rgba(160, 130, 220, 0.28) 0%,
                rgba(210, 190, 245, 0.20) 100%
            );
            
            padding: var(--space-10) var(--space-6);
            
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(124, 58, 237, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-container {
            max-width: 1280px;
            margin: 0 auto;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .hero-content h1 {
            font-size: var(--font-size-4xl);
            color: var(--color-gray-900);
            margin-bottom: var(--space-4);
            line-height: 1.1;
            letter-spacing: -0.5px;
        }

        .hero-content .subtitle {
            font-size: var(--font-size-xl);
            color: var(--color-primary);
            font-weight: var(--font-weight-medium);
            margin-bottom: var(--space-4);
            display: block;
        }

        .hero-content p {
            font-size: var(--font-size-lg);
            color: var(--color-gray-600);
            margin-bottom: var(--space-6);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--transition-fast);
            border: none;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left var(--transition-slow);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--color-white);
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
        }

        .btn-secondary:hover {
            background: var(--color-purple-50);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Category Navigation - Professional Update */
        .category-nav {
            background: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            padding: var(--space-3) 0;
            position: sticky;
            top: 65px;
            z-index: 900;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .category-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            display: flex;
            gap: var(--space-2);
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .category-container::-webkit-scrollbar {
            display: none;
        }

        .category-btn {
            padding: var(--space-2) var(--space-5);
            background: var(--color-gray-100);
            border: 1px solid transparent;
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            white-space: nowrap;
            transition: all var(--transition-fast);
            color: var(--color-gray-700);
        }

        .category-btn:hover {
            background: var(--color-purple-100);
            color: var(--color-primary);
            transform: translateY(-1px);
        }

        .category-btn.active {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
            box-shadow: var(--shadow-sm);
        }

        /* Products Section - Professional Update */
        .products-section {
            max-width: 1280px;
            margin: 0 auto;
            padding: var(--space-10) var(--space-6);
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-9);
        }

        .section-header h2 {
            font-size: var(--font-size-3xl);
            color: var(--color-gray-900);
            margin-bottom: var(--space-2);
            position: relative;
            display: inline-block;
        }

        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--color-primary);
            border-radius: 2px;
        }

        .section-header .subtitle {
            font-size: var(--font-size-lg);
            color: var(--color-gray-600);
            max-width: 600px;
            margin: 0 auto;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-6);
        }

        .product-card {
            background: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-xl);
            overflow: hidden;
            cursor: pointer;
            transition: all var(--transition-base);
            position: relative;
            box-shadow: var(--shadow-sm);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--color-purple-400), var(--color-purple-600));
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .product-image {
            width: 100%;
            height: 240px;
            background: linear-gradient(135deg, var(--color-purple-50) 0%, var(--color-white) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-slow);
        }

        .product-image video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-slow);
        }

        .product-card:hover .product-image img,
        .product-card:hover .product-image video {
            transform: scale(1.05);
        }

        .product-image .emoji-fallback {
            font-size: 64px;
            opacity: 0.7;
        }

        .product-badge {
            position: absolute;
            top: var(--space-3);
            right: var(--space-3);
            background: var(--color-primary);
            color: white;
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-bold);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow-sm);
        }

        .product-info {
            padding: var(--space-5);
        }

        .product-category {
            font-size: var(--font-size-xs);
            color: var(--color-primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-2);
            display: inline-block;
            padding: var(--space-1) var(--space-2);
            background: var(--color-purple-50);
            border-radius: var(--radius-sm);
        }

        .product-name {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-2);
            color: var(--color-gray-900);
            line-height: 1.3;
        }

        .product-desc {
            font-size: var(--font-size-sm);
            color: var(--color-gray-600);
            margin-bottom: var(--space-4);
            line-height: 1.5;
        }

        .product-price-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: var(--space-4);
            padding-top: var(--space-4);
            border-top: 1px solid var(--color-border);
        }

        .product-price {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }

        .product-price .from {
            font-size: var(--font-size-sm);
            color: var(--color-gray-500);
            font-weight: var(--font-weight-normal);
            display: block;
        }

        .view-details-btn {
            padding: var(--space-2) var(--space-4);
            background: var(--color-purple-50);
            color: var(--color-primary);
            border: none;
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .view-details-btn:hover {
            background: var(--color-primary);
            color: white;
            transform: translateX(2px);
        }

        /* Modal - Professional Update */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: var(--space-4);
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: var(--color-surface);
            border-radius: var(--radius-2xl);
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-2xl);
            border: 1px solid var(--color-border);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-close {
            position: absolute;
            top: var(--space-4);
            right: var(--space-4);
            background: var(--color-gray-100);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all var(--transition-fast);
            color: var(--color-gray-600);
        }

        .modal-close:hover {
            background: var(--color-primary);
            color: white;
            transform: rotate(90deg);
        }

        .modal-body {
            padding: var(--space-8);
        }

        .product-detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-8);
            margin-bottom: var(--space-8);
        }

        /* Video/Image Gallery - Updated for Video Support */
        .product-detail-gallery {
            position: relative;
        }

        .product-main-media-container {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, var(--color-purple-50) 0%, var(--color-white) 100%);
            border-radius: var(--radius-xl);
            overflow: hidden;
            position: relative;
            cursor: pointer;
            margin-bottom: var(--space-4);
            border: 1px solid var(--color-border);
        }

        .product-main-media-container:hover .view-large-text {
            opacity: 1;
        }

        .product-main-media {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform var(--transition-base);
        }

        .video-play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all var(--transition-fast);
            z-index: 2;
        }

        .video-play-button:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translate(-50%, -50%) scale(1.1);
        }

        .view-large-text {
            position: absolute;
            bottom: var(--space-3);
            right: var(--space-3);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-base);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            opacity: 0;
            transition: opacity var(--transition-base);
            z-index: 2;
        }

        .product-thumbnails {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-3);
        }

        .product-thumbnail {
            aspect-ratio: 1;
            background: var(--color-gray-100);
            border-radius: var(--radius-lg);
            overflow: hidden;
            cursor: pointer;
            transition: all var(--transition-fast);
            border: 2px solid transparent;
            position: relative;
        }

        .product-thumbnail:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .product-thumbnail.active {
            border-color: var(--color-primary);
        }

        .product-thumbnail img,
        .product-thumbnail video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-thumbnail-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            background: rgba(0, 0, 0, 0.6);
            padding: 4px;
            border-radius: 4px;
            font-size: 12px;
        }

        /* Video Lightbox Modal */
        .video-lightbox-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .video-lightbox-modal.active {
            display: flex;
            opacity: 1;
        }

        .video-lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            width: auto;
            height: auto;
        }

        .video-lightbox-video {
            max-width: 100%;
            max-height: 80vh;
            border-radius: var(--radius-lg);
            background: #000;
        }

        .video-lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: transparent;
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: var(--space-2);
            z-index: 10;
        }

        /* Lightbox Modal for Image Gallery */
        .lightbox-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .lightbox-modal.active {
            display: flex;
            opacity: 1;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            width: auto;
            height: auto;
        }

        .lightbox-image {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border-radius: var(--radius-lg);
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: transparent;
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: var(--space-2);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: var(--space-4);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background var(--transition-fast);
        }

        .lightbox-nav:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-counter {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: var(--font-size-base);
            background: rgba(0, 0, 0, 0.5);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-lg);
        }

        .product-detail-info h2 {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--space-2);
            color: var(--color-gray-900);
        }

        .product-detail-info .category {
            font-size: var(--font-size-sm);
            color: var(--color-primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-4);
            display: inline-block;
            padding: var(--space-1) var(--space-3);
            background: var(--color-purple-50);
            border-radius: var(--radius-lg);
        }

        .product-detail-info .description {
            font-size: var(--font-size-base);
            color: var(--color-gray-600);
            margin-bottom: var(--space-6);
            line-height: 1.6;
        }

        .product-detail-info .specs {
            background: var(--color-gray-50);
            padding: var(--space-5);
            border-radius: var(--radius-xl);
            margin-bottom: var(--space-6);
            border: 1px solid var(--color-border);
        }

        .product-detail-info .specs h4 {
            font-size: var(--font-size-lg);
            margin-bottom: var(--space-3);
            color: var(--color-gray-900);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .product-detail-info .specs h4::before {
            content: "üìã";
            font-size: var(--font-size-lg);
        }

        .product-detail-info .specs p {
            font-size: var(--font-size-sm);
            color: var(--color-gray-600);
            line-height: 1.6;
        }

        /* Customization Options */
        .customization-options {
            margin-top: var(--space-6);
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-border);
        }

        .customization-options h4 {
            font-size: var(--font-size-lg);
            margin-bottom: var(--space-4);
            color: var(--color-gray-900);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .customization-options h4::before {
            content: "‚öôÔ∏è";
            font-size: var(--font-size-lg);
        }

        .option-group {
            margin-bottom: var(--space-5);
        }

        .option-group label {
            display: block;
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-2);
            font-weight: var(--font-weight-medium);
            color: var(--color-gray-700);
        }

        .option-select {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-base);
            background: var(--color-white);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .option-select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .price-display {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            margin: var(--space-5) 0;
            padding: var(--space-4);
            background: var(--color-purple-50);
            border-radius: var(--radius-xl);
            text-align: center;
            border: 2px dashed var(--color-purple-200);
        }

        .modal-actions {
            display: flex;
            gap: var(--space-4);
            margin-top: var(--space-6);
        }

        /* Share Options - Updated with Instagram only */
        .share-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
            margin-top: var(--space-6);
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-border);
        }

        .share-options h4 {
            font-size: var(--font-size-base);
            margin-bottom: var(--space-2);
            color: var(--color-gray-900);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .share-options h4::before {
            content: "üîó";
            font-size: var(--font-size-base);
        }

        .share-buttons {
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
        }

        .share-btn {
            padding: var(--space-2) var(--space-4);
            background: var(--color-gray-100);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-fast);
            color: var(--color-gray-700);
        }

        .share-btn:hover {
            background: var(--color-gray-200);
            transform: translateY(-2px);
        }

        .share-btn.whatsapp {
            background: #25D366;
            color: white;
            border-color: #25D366;
        }

        .share-btn.whatsapp:hover {
            background: #128C7E;
        }

        .share-btn.instagram {
            background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D);
            color: white;
            border-color: transparent;
        }

        .share-btn.instagram:hover {
            opacity: 0.9;
        }

        .share-btn.copy {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        .share-btn.copy:hover {
            background: var(--color-primary-hover);
        }

        .copy-notification {
            position: fixed;
            bottom: var(--space-6);
            left: 50%;
            transform: translateX(-50%);
            background: var(--color-primary);
            color: white;
            padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-lg);
            z-index: 3000;
            animation: fadeInOut 2s ease;
            display: none;
            box-shadow: var(--shadow-lg);
            font-weight: var(--font-weight-medium);
        }

        /* Cart Drawer - Professional Update */
        .cart-drawer {
            position: fixed;
            top: 0;
            right: -420px;
            width: 420px;
            height: 100%;
            background: var(--color-surface);
            box-shadow: var(--shadow-2xl);
            z-index: 3000;
            transition: right var(--transition-base);
            display: flex;
            flex-direction: column;
            border-left: 1px solid var(--color-border);
        }

        .cart-drawer.active {
            right: 0;
        }

        .cart-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(2px);
            z-index: 2500;
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .cart-overlay.active {
            display: block;
            opacity: 1;
        }

        .cart-header {
            padding: var(--space-5);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--color-gray-50);
        }

        .cart-header h3 {
            font-size: var(--font-size-xl);
            color: var(--color-gray-900);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .cart-header h3::before {
            content: "üõí";
            font-size: var(--font-size-lg);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-5);
        }

        .cart-item {
            display: flex;
            gap: var(--space-3);
            padding: var(--space-3);
            background: var(--color-gray-50);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-3);
            border: 1px solid var(--color-border);
            transition: all var(--transition-fast);
        }

        .cart-item:hover {
            background: var(--color-white);
            box-shadow: var(--shadow-sm);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background: var(--color-white);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
            border: 1px solid var(--color-border);
        }

        .cart-item-info {
            flex: 1;
            min-width: 0;
        }

        .cart-item-name {
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-1);
            color: var(--color-gray-900);
            font-size: var(--font-size-sm);
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .cart-item-details {
            font-size: var(--font-size-xs);
            color: var(--color-gray-500);
            margin-bottom: var(--space-1);
        }

        .cart-item-price {
            color: var(--color-primary);
            font-weight: var(--font-weight-bold);
            font-size: var(--font-size-sm);
        }

        .cart-item-remove {
            background: transparent;
            border: none;
            color: var(--color-gray-400);
            cursor: pointer;
            font-size: 18px;
            padding: var(--space-1);
            transition: color var(--transition-fast);
            align-self: flex-start;
            flex-shrink: 0;
        }

        .cart-item-remove:hover {
            color: var(--color-red-500);
        }

        .cart-footer {
            padding: var(--space-5);
            border-top: 1px solid var(--color-border);
            background: var(--color-gray-50);
        }

        .cart-total,
        .cart-delivery,
        .cart-grand-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-3);
            font-size: var(--font-size-base);
        }

        .cart-total {
            font-weight: var(--font-weight-medium);
        }

        .cart-delivery {
            color: var(--color-gray-500);
            font-size: var(--font-size-sm);
        }

        .cart-grand-total {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            margin-top: var(--space-4);
            padding-top: var(--space-3);
            border-top: 2px solid var(--color-border);
        }

        .empty-cart {
            text-align: center;
            padding: var(--space-10) var(--space-5);
            color: var(--color-gray-500);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-4);
        }

        .empty-cart::before {
            content: "üõí";
            font-size: 48px;
            opacity: 0.5;
        }

        /* Contact Form */
        .contact-form {
            display: flex;
            flex-direction: column;
            gap: var(--space-5);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-group label {
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
            color: var(--color-gray-700);
        }

        .form-group input,
        .form-group textarea {
            padding: var(--space-3);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-base);
            font-family: var(--font-family-base);
            transition: all var(--transition-fast);
            background: var(--color-white);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* Footer - Professional Update */
        footer {
            background: var(--color-gray-900);
            color: var(--color-white);
            padding: var(--space-10) var(--space-6) var(--space-7);
            margin-top: var(--space-10);
        }

        .footer-container {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-8);
        }

        .footer-section h4 {
            font-size: var(--font-size-lg);
            margin-bottom: var(--space-4);
            color: var(--color-white);
            font-family: var(--font-family-heading);
        }

        .footer-section p {
            color: var(--color-gray-300);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-3);
            line-height: 1.6;
        }

        .footer-section a {
            color: var(--color-gray-300);
            font-size: var(--font-size-sm);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-2);
            transition: color var(--transition-fast);
        }

        .footer-section a:hover {
            color: var(--color-white);
            transform: translateX(4px);
        }

        .footer-section a::before {
            content: "‚Üí";
            font-size: var(--font-size-sm);
            opacity: 0;
            transition: opacity var(--transition-fast);
        }

        .footer-section a:hover::before {
            opacity: 1;
        }

        .footer-bottom {
            max-width: 1280px;
            margin: var(--space-8) auto 0;
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-gray-700);
            text-align: center;
            color: var(--color-gray-400);
            font-size: var(--font-size-sm);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .product-detail-grid {
                grid-template-columns: 1fr;
                gap: var(--space-6);
            }
            
            .cart-drawer {
                width: 380px;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-wrap: wrap;
                gap: var(--space-4);
            }

            nav {
                order: 3;
                width: 100%;
                justify-content: center;
                margin-top: var(--space-3);
            }

            .search-box {
                width: 180px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }

            .cart-drawer {
                width: 100%;
                right: -100%;
            }

            .modal-body {
                padding: var(--space-5);
            }

            .share-buttons {
                flex-direction: column;
            }

            .share-btn {
                justify-content: center;
            }

            .modal-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .lightbox-nav {
                width: 40px;
                height: 40px;
                font-size: 24px;
                padding: var(--space-3);
            }

            .lightbox-prev {
                left: 10px;
            }

            .lightbox-next {
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: var(--font-size-3xl);
            }

            .hero-content .subtitle {
                font-size: var(--font-size-lg);
            }

            .hero-actions {
                flex-direction: column;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .section-header h2 {
                font-size: var(--font-size-2xl);
            }

            .footer-container {
                grid-template-columns: 1fr;
                gap: var(--space-6);
            }

            .product-thumbnails {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .hidden {
            display: none !important;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, 20px); }
            20% { opacity: 1; transform: translate(-50%, 0); }
            80% { opacity: 1; transform: translate(-50%, 0); }
            100% { opacity: 0; transform: translate(-50%, -20px); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <a href="#" class="logo">ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ</a>
            <nav>
                <a href="#home">Home</a>
                <a href="#products">Products</a>
                <a href="#" onclick="openContactModal(); return false;">Contact</a>
            </nav>
            <div class="header-actions">
                <input type="text" class="search-box" placeholder="Search products..." id="searchInput" oninput="searchProducts()">
                <button class="cart-btn" onclick="toggleCart()">
                    <span>Cart</span> <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Category Navigation -->
    <div class="category-nav">
        <div class="category-container">
            <button class="category-btn active" onclick="filterProducts('all')">All Products</button>
            <button class="category-btn" onclick="filterProducts('magazines')">Magazines</button>
            <button class="category-btn" onclick="filterProducts('frames')">Photo Frames</button>
            <button class="category-btn" onclick="filterProducts('posters')">Posters</button>
            <button class="category-btn" onclick="filterProducts('cards')">Handmade Cards</button>
            <button class="category-btn" onclick="filterProducts('polaroid')">Polaroid Photos</button>
            <button class="category-btn" onclick="filterProducts('photobooth')">Photobooth</button>
            <button class="category-btn" onclick="filterProducts('invitations')">E-Invitations</button>
        </div>
    </div>

    <!-- Hero Section - No Images -->
    <section class="hero" id="home">
        <div class="hero-container">
            <div class="hero-content">
                <span class="subtitle">Premium Personalized Gifts</span>
                <h1>Transform Memories Into Timeless Treasures</h1>
                <p>Personalized photo frames, invitations & more. Create personalized gifts that tell your unique story.</p>
                <div class="hero-actions">
                    <a href="#products" class="btn btn-primary">Explore Collection</a>
                    <button class="btn btn-secondary" onclick="openContactModal()">
                        <span>Book Consultation</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="products">
        <div class="section-header">
            <h2>Our Collection</h2>
            <p class="subtitle">Each piece is crafted with attention to detail and designed to preserve your memories beautifully</p>
        </div>
        <div class="products-grid" id="productsGrid"></div>
    </section>

    <!-- Product Detail Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeProductModal()">√ó</button>
            <div class="modal-body" id="productModalBody"></div>
        </div>
    </div>

    <!-- Lightbox Modal for Image Gallery -->
    <div class="lightbox-modal" id="lightboxModal">
        <button class="lightbox-close" onclick="closeLightbox()">√ó</button>
        <button class="lightbox-nav lightbox-prev" onclick="prevLightboxImage()">‚Äπ</button>
        <div class="lightbox-content">
            <img class="lightbox-image" id="lightboxImage" src="" alt="">
            <div class="lightbox-counter" id="lightboxCounter"></div>
        </div>
        <button class="lightbox-nav lightbox-next" onclick="nextLightboxImage()">‚Ä∫</button>
    </div>

    <!-- Video Lightbox Modal -->
    <div class="video-lightbox-modal" id="videoLightboxModal">
        <button class="video-lightbox-close" onclick="closeVideoLightbox()">√ó</button>
        <div class="video-lightbox-content">
            <video class="video-lightbox-video" id="videoLightboxVideo" controls>
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal" id="contactModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeContactModal()">√ó</button>
            <div class="modal-body">
                <h2>Contact Us</h2>
                <p style="margin-bottom: 24px; color: var(--color-text-secondary);">Fill out the form below and we'll get back to you on WhatsApp!</p>
                <form class="contact-form" onsubmit="submitContactForm(event)">
                    <div class="form-group">
                        <label>Your Name *</label>
                        <input type="text" id="contactName" required>
                    </div>
                    <div class="form-group">
                        <label>Email Address *</label>
                        <input type="email" id="contactEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number *</label>
                        <input type="tel" id="contactPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Message *</label>
                        <textarea id="contactMessage" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Send Message on WhatsApp</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeCheckoutModal()">√ó</button>
            <div class="modal-body">
                <h2>Checkout</h2>
                <p style="margin-bottom: 24px; color: var(--color-text-secondary);">Enter your details to complete your order via WhatsApp</p>
                <form class="contact-form" onsubmit="submitCheckout(event)">
                    <div class="form-group">
                        <label>Your Name *</label>
                        <input type="text" id="checkoutName" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number *</label>
                        <input type="tel" id="checkoutPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Delivery Address *</label>
                        <textarea id="checkoutAddress" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Send Order on WhatsApp</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Cart Drawer -->
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>
    <div class="cart-drawer" id="cartDrawer">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="modal-close" onclick="toggleCart()">√ó</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">Your cart is empty</div>
        </div>
        <div class="cart-footer" id="cartFooter" style="display:none;">
            <div class="cart-total">
                <span>Subtotal:</span>
                <span id="cartSubtotal">‚Çπ0</span>
            </div>
            <div class="cart-delivery">
                <span>Delivery Charge:</span>
                <span id="cartDelivery">‚Çπ100</span>
            </div>
            <div class="cart-grand-total">
                <span>Total:</span>
                <span id="cartTotal">‚Çπ100</span>
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="proceedToCheckout()">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Copy Notification -->
    <div class="copy-notification" id="copyNotification">Link copied to clipboard!</div>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h4>ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ</h4>
                <p>Transforming memories into beautifully crafted personalized gifts that tell your unique story.</p>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <a href="https://wa.me/919926634010" target="_blank">
                    <span>WhatsApp: +91 99266 34010</span>
                </a>
                <a href="mailto:einvetation@gmail.com">
                    <span>Email: einvetation@gmail.com</span>
                </a>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="#home">Home</a>
                <a href="#products">Collection</a>
                <a href="#" onclick="openContactModal(); return false;">Contact Us</a>
            </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <a href="https://www.instagram.com/nickycraft___/" target="_blank">
                    <span>Instagram</span>
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2024 ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ. All rights reserved. Crafted with ‚ù§Ô∏è in India.</p>
        </div>
    </footer>

    <script>
        // Products Data - Updated with Video Support
        const products = [
            {
                id: 1,
                name: "Personalized Magazine",
                category: "magazines",
                basePrice: 440,
                desc: "Create your own personalized magazine with your photos and stories",
                specs: "A4 size, Glossy finish, High-quality print, Professional binding",
                details: "Create your own magazine with your favorite photos, stories, and memories. Perfect for special events or personal keepsakes. Choose the number of pages that fits your story.",
                badge: "Popular",
                video: "videos/magazine-sample.mp4", // Main product video
                thumbnail: "images/products/magazine-custom.jpg", // Thumbnail for video
                samples: [
                    // Video samples for Magazine instead of images
                    { type: "video", src: "videos/samples/magazine-sample-1.mp4", thumbnail: "images/samples/magazine-custom-1.jpg" },
                    { type: "video", src: "videos/samples/magazine-sample-2.mp4", thumbnail: "images/samples/magazine-custom-2.jpg" },
                    { type: "video", src: "videos/samples/magazine-sample-3.mp4", thumbnail: "images/samples/magazine-custom-3.jpg" },
                    { type: "video", src: "videos/samples/magazine-sample-4.mp4", thumbnail: "images/samples/magazine-custom-4.jpg" }
                ],
                emoji: "üìö",
                customizable: true,
                hasVideo: true,
                hasVideoSamples: true, // Flag to identify products with video samples
                options: [
                    {
                        label: "Pages",
                        type: "select",
                        key: "pages",
                        options: [
                            { label: "8 Pages", value: "8", price: 440 },
                            { label: "12 Pages", value: "12", price: 580 },
                            { label: "16 Pages", value: "16", price: 780 },
                            { label: "20 Pages", value: "20", price: 950 }
                        ]
                    }
                ]
            },
            
            {
                id: 2,
                name: "Personalized Photo Frame",
                category: "frames",
                basePrice: 199,
                desc: "Display your favorite photos in beautiful Personalized frames",
                specs: "Wood material, Glass front, Ready to hang, High-quality finish",
                details: "Perfect for displaying your favorite photos. Made with premium wood and glass front for protection. Choose the size that fits your space.",
                badge: null,
                image: "images/products/frame-custom.jpg",
                samples: [
                    "images/samples/frame-custom-1.jpg",
                    "images/samples/frame-custom-2.jpg",
                    "images/samples/frame-custom-3.jpg",
                    "images/samples/frame-custom-4.jpg"
                ],
                emoji: "üñºÔ∏è",
                customizable: true,
                hasVideo: false,
                hasVideoSamples: false,
                options: [
                    {
                        label: "Size",
                        type: "select",
                        key: "size",
                        options: [
                            { label: "A6", value: "a6", price: 199 },
                            { label: "A5", value: "a5", price: 299 },
                            { label: "A4", value: "a4", price: 399 },
                            { label: "A3", value: "a3", price: 599 },
                            { label: "7x7 Square", value: "7x7", price: 249 }
                        ]
                    }
                ]
            },
            
            {
                id: 3,
                name: "Personalized Poster",
                category: "posters",
                basePrice: 60,
                desc: "High-quality Personalized posters for your photos",
                specs: "Matte finish, High-quality print, Durable paper, Vibrant colors",
                details: "Transform your favorite photos into beautiful posters. Perfect for home decor, events, or as gifts. Choose the size that suits your needs.",
                badge: null,
                image: "images/products/poster-custom.jpg",
                samples: [
                    "images/samples/poster-custom-1.jpg",
                    "images/samples/poster-custom-2.jpg",
                    "images/samples/poster-custom-3.jpg",
                    "images/samples/poster-custom-4.jpg"
                ],
                emoji: "üñºÔ∏è",
                customizable: true,
                hasVideo: false,
                hasVideoSamples: false,
                options: [
                    {
                        label: "Size",
                        type: "select",
                        key: "size",
                        options: [
                            { label: "A6 (14x10 cm) per poster", value: "a6", price: 60 },
                            { label: "A5 (21x14 cm) per poster", value: "a5", price: 90 },
                            { label: "A4 (21x29 cm) per poster", value: "a4", price: 150 },
                            { label: "A3 per poster", value: "a3", price: 200 }
                        ]
                    }
                ]
            },
            
            {
                id: 4,
                name: "Handmade Card",
                category: "cards",
                basePrice: 850,
                desc: "Personalized handmade cards for special occasions",
                specs: "Handcrafted, Personalized design, Premium paper, Envelope included",
                details: "Beautiful handmade cards personalized with your photos and messages. Each card is uniquely crafted for your special occasion.",
                badge: "Handmade",
                image: "images/products/card-custom.jpg",
                samples: [
                    "images/samples/card-custom-1.jpg",
                    "images/samples/card-custom-2.jpg",
                    "images/samples/card-custom-3.jpg",
                    "images/samples/card-custom-4.jpg"
                ],
                emoji: "üíå",
                customizable: true,
                hasVideo: false,
                hasVideoSamples: false,
                options: [
                    {
                        label: "Occasion",
                        type: "select",
                        key: "occasion",
                        options: [
                            { label: "Birthday", value: "birthday", price: 850 },
                            { label: "Anniversary", value: "anniversary", price: 850 },
                            { label: "Wedding", value: "wedding", price: 850 }
                        ]
                    }
                ]
            },
            
            {
                id: 5,
                name: "Polaroid Photos",
                category: "polaroid",
                basePrice: 11,
                desc: "Classic polaroid-style photo prints",
                specs: "Polaroid style, 3.5x4.2 inch, Matte finish, Instant look",
                details: "Capture moments in classic polaroid style. Each print has the distinctive white border and retro appeal.",
                badge: null,
                image: "images/products/polaroid-custom.jpg",
                samples: [
                    "images/samples/polaroid-custom-1.jpg",
                    "images/samples/polaroid-custom-2.jpg",
                    "images/samples/polaroid-custom-3.jpg",
                    "images/samples/polaroid-custom-4.jpg"
                ],
                emoji: "üì∏",
                customizable: true,
                hasVideo: false,
                hasVideoSamples: false,
                options: [
                    {
                        label: "Quantity",
                        type: "select",
                        key: "quantity",
                        options: [
                            { label: "6 Photos", value: "6", price: 54 },
                            { label: "12 Photos", value: "12", price: 110 },
                            { label: "15 Photos", value: "15", price: 140 },
                            { label: "30 Photos", value: "30", price: 260 }
                        ]
                    }
                ]
            },
            
            {
                id: 6,
                name: "Photobooth Strip",
                category: "photobooth",
                basePrice: 129,
                desc: "Classic photobooth style photo strips",
                specs: "Classic photobooth style, High-quality print, Durable paper",
                details: "Recreate the classic photobooth experience with photo strips. Perfect for events, parties, or fun photoshoots.",
                badge: null,
                image: "images/products/photobooth-custom.jpg",
                samples: [
                    "images/samples/photobooth-custom-1.jpg",
                    "images/samples/photobooth-custom-2.jpg",
                    "images/samples/photobooth-custom-3.jpg",
                    "images/samples/photobooth-custom-4.jpg"
                ],
                emoji: "üì∏",
                customizable: true,
                hasVideo: false,
                hasVideoSamples: false,
                options: [
                    {
                        label: "Photos per Strip",
                        type: "select",
                        key: "photos",
                        options: [
                            { label: "3 Photos", value: "3", price: 129 },
                            { label: "4 Photos", value: "4", price: 159 }
                        ]
                    }
                ]
            },
            
            {
                id: 7,
                name: "Wedding E-Invitation",
                category: "invitations",
                price: 750,
                desc: "Elegant digital wedding invitation",
                specs: "Digital format, Personalized design, Shareable link, RSVP tracking",
                details: "Beautiful digital wedding invitations that can be easily shared via WhatsApp, email, or social media. Includes RSVP tracking.",
                badge: "Wedding",
                video: "videos/invitation-wedding.mp4", // Main product video
                thumbnail: "images/products/invitation-wedding.jpg", // Thumbnail for video
                samples: [
                    // Video samples for E-Invitation instead of images
                    { type: "video", src: "videos/samples/wedding-invitation-sample-1.mp4", thumbnail: "images/samples/invitation-wedding-1.jpg" },
                    { type: "video", src: "videos/samples/wedding-invitation-sample-2.mp4", thumbnail: "images/samples/invitation-wedding-2.jpg" },
                    { type: "video", src: "videos/samples/wedding-invitation-sample-3.mp4", thumbnail: "images/samples/invitation-wedding-3.jpg" },
                    { type: "video", src: "videos/samples/wedding-invitation-sample-4.mp4", thumbnail: "images/samples/invitation-wedding-4.jpg" }
                ],
                emoji: "üíí",
                customizable: false,
                hasVideo: true,
                hasVideoSamples: true,
            },
            {
                id: 8,
                name: "Birthday E-Invitation",
                category: "invitations",
                price: 299,
                desc: "Fun digital birthday invitation",
                specs: "Digital format, Fun designs, Customizable, Easy sharing",
                details: "Make birthday celebrations more fun with personalized digital invitations. Easy to share with all your guests.",
                badge: "Birthday",
                video: "videos/invitation-birthday.mp4", // Main product video
                thumbnail: "images/products/invitation-birthday.jpg", // Thumbnail for video
                samples: [
                    // Video samples for E-Invitation instead of images
                    { type: "video", src: "videos/samples/birthday-invitation-sample-1.mp4", thumbnail: "images/samples/invitation-birthday-1.jpg" },
                    { type: "video", src: "videos/samples/birthday-invitation-sample-2.mp4", thumbnail: "images/samples/invitation-birthday-2.jpg" },
                    { type: "video", src: "videos/samples/birthday-invitation-sample-3.mp4", thumbnail: "images/samples/invitation-birthday-3.jpg" },
                    { type: "video", src: "videos/samples/birthday-invitation-sample-4.mp4", thumbnail: "images/samples/invitation-birthday-4.jpg" }
                ],
                emoji: "üéÇ",
                customizable: false,
                hasVideo: true,
                hasVideoSamples: true,
            },
            {
                id: 9,
                name: "Anniversary E-Invitation",
                category: "invitations",
                price: 550,
                desc: "Elegant anniversary e-invitation",
                specs: "Digital format, Elegant designs, Custom text, Shareable",
                details: "Celebrate special anniversaries with elegant digital invitations that reflect the importance of the occasion.",
                badge: "Anniversary",
                video: "videos/invitation-anniversary.mp4", // Main product video
                thumbnail: "images/products/invitation-anniversary.jpg", // Thumbnail for video
                samples: [
                    // Video samples for E-Invitation instead of images
                    { type: "video", src: "videos/samples/anniversary-invitation-sample-1.mp4", thumbnail: "images/samples/invitation-anniversary-1.jpg" },
                    { type: "video", src: "videos/samples/anniversary-invitation-sample-2.mp4", thumbnail: "images/samples/invitation-anniversary-2.jpg" },
                    { type: "video", src: "videos/samples/anniversary-invitation-sample-3.mp4", thumbnail: "images/samples/invitation-anniversary-3.jpg" },
                    { type: "video", src: "videos/samples/anniversary-invitation-sample-4.mp4", thumbnail: "images/samples/invitation-anniversary-4.jpg" }
                ],
                emoji: "üíë",
                customizable: false,
                hasVideo: true,
                hasVideoSamples: true,
            },
        ];

        // Cart State
        let cart = [];
        let currentFilter = 'all';
        const DELIVERY_CHARGE = 100;
        let currentProductForShare = null;
        let currentCustomizations = {};
        let currentProductMedia = [];
        let currentLightboxIndex = 0;
        let currentMediaType = 'image'; // 'image' or 'video'

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
        });

        // Render Products
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            const filteredProducts = currentFilter === 'all' 
                ? products 
                : products.filter(p => p.category === currentFilter);
            
            grid.innerHTML = filteredProducts.map(product => {
                // Check if product has video
                const hasVideo = product.hasVideo || false;
                const mediaSrc = hasVideo ? (product.thumbnail || product.video) : product.image;
                
                return `
                <div class="product-card" onclick="openProductModal(${product.id})">
                    <div class="product-image">
                        ${hasVideo ? 
                            `<video muted loop playsinline>
                                <source src="${product.video}" type="video/mp4">
                                <img src="${product.thumbnail || 'images/products/default-thumbnail.jpg'}" alt="${product.name}">
                            </video>` :
                            `<img src="${product.image}" alt="${product.name}" 
                                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">`
                        }
                        <span class="emoji-fallback" style="display:none;">${product.emoji}</span>
                        ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                        ${hasVideo ? `<div class="video-play-button">‚ñ∂</div>` : ''}
                    </div>
                    <div class="product-info">
                        <div class="product-category">${getCategoryName(product.category)}</div>
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-desc">${product.desc}</p>
                        <div class="product-price-container">
                            <div class="product-price">
                                ${product.customizable ? `<span class="from">Starting from</span>` : ''}
                                <span>‚Çπ${product.customizable ? product.basePrice : product.price}</span>
                            </div>
                            <button class="view-details-btn" onclick="event.stopPropagation(); openProductModal(${product.id})">View Details</button>
                        </div>
                    </div>
                </div>
            `}).join('');
        }

        // Filter Products
        function filterProducts(category) {
            currentFilter = category;
            
            // Update active category button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Render filtered products with smooth transition
            const grid = document.getElementById('productsGrid');
            grid.style.opacity = '0';
            
            setTimeout(() => {
                renderProducts();
                grid.style.transition = 'opacity 0.3s';
                grid.style.opacity = '1';
                
                // Scroll to products section smoothly
                document.getElementById('products').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 150);
        }

        // Search Products
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const grid = document.getElementById('productsGrid');
            
            let filtered = products;
            if (currentFilter !== 'all') {
                filtered = products.filter(p => p.category === currentFilter);
            }
            
            if (searchTerm) {
                filtered = filtered.filter(p => 
                    p.name.toLowerCase().includes(searchTerm) || 
                    p.desc.toLowerCase().includes(searchTerm) ||
                    getCategoryName(p.category).toLowerCase().includes(searchTerm)
                );
            }
            
            grid.innerHTML = filtered.map(product => {
                const hasVideo = product.hasVideo || false;
                const mediaSrc = hasVideo ? (product.thumbnail || product.video) : product.image;
                
                return `
                <div class="product-card" onclick="openProductModal(${product.id})">
                    <div class="product-image">
                        ${hasVideo ? 
                            `<video muted loop playsinline>
                                <source src="${product.video}" type="video/mp4">
                                <img src="${product.thumbnail || 'images/products/default-thumbnail.jpg'}" alt="${product.name}">
                            </video>` :
                            `<img src="${product.image}" alt="${product.name}" 
                                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">`
                        }
                        <span class="emoji-fallback" style="display:none;">${product.emoji}</span>
                        ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                        ${hasVideo ? `<div class="video-play-button">‚ñ∂</div>` : ''}
                    </div>
                    <div class="product-info">
                        <div class="product-category">${getCategoryName(product.category)}</div>
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-desc">${product.desc}</p>
                        <div class="product-price-container">
                            <div class="product-price">
                                ${product.customizable ? `<span class="from">Starting from</span>` : ''}
                                <span>‚Çπ${product.customizable ? product.basePrice : product.price}</span>
                            </div>
                            <button class="view-details-btn" onclick="event.stopPropagation(); openProductModal(${product.id})">View Details</button>
                        </div>
                    </div>
                </div>
            `}).join('');
        }

        // Get Category Name
        function getCategoryName(category) {
            const names = {
                'magazines': 'Magazines',
                'frames': 'Photo Frames',
                'posters': 'Posters',
                'cards': 'Handmade Cards',
                'polaroid': 'Polaroid Photos',
                'photobooth': 'Photobooth',
                'invitations': 'E-Invitations',
            };
            return names[category] || category;
        }

        // Open Product Modal
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            currentProductForShare = product;
            currentCustomizations = {};
            currentProductMedia = [];
            currentMediaType = product.hasVideo ? 'video' : 'image';
            
            // Build media array
            if (product.hasVideo) {
                currentProductMedia.push({
                    type: 'video',
                    src: product.video,
                    thumbnail: product.thumbnail
                });
            } else {
                currentProductMedia.push({
                    type: 'image',
                    src: product.image
                });
            }
            
            // Add samples - for Magazine and E-Invitations, use video samples
            // For other products, use image samples
            if (product.hasVideoSamples && product.category === 'magazines') {
                // Magazine: Use video samples
                product.samples.forEach(sample => {
                    if (sample.type === 'video') {
                        currentProductMedia.push({
                            type: 'video',
                            src: sample.src,
                            thumbnail: sample.thumbnail
                        });
                    } else {
                        // Fallback for images if needed
                        currentProductMedia.push({
                            type: 'image',
                            src: sample
                        });
                    }
                });
            } else if (product.hasVideoSamples && product.category === 'invitations') {
                // E-Invitations: Use video samples
                product.samples.forEach(sample => {
                    if (sample.type === 'video') {
                        currentProductMedia.push({
                            type: 'video',
                            src: sample.src,
                            thumbnail: sample.thumbnail
                        });
                    } else {
                        // Fallback for images if needed
                        currentProductMedia.push({
                            type: 'image',
                            src: sample
                        });
                    }
                });
            } else {
                // Other products: Use image samples as before
                if (Array.isArray(product.samples)) {
                    product.samples.forEach(sample => {
                        if (typeof sample === 'string') {
                            currentProductMedia.push({
                                type: 'image',
                                src: sample
                            });
                        } else if (sample.type === 'image') {
                            currentProductMedia.push({
                                type: 'image',
                                src: sample.src
                            });
                        }
                    });
                }
            }
            
            // Reset customizations for this product
            if (product.customizable && product.options) {
                product.options.forEach(option => {
                    if (option.options && option.options.length > 0) {
                        currentCustomizations[option.key] = option.options[0];
                    }
                });
            }
            
            const modalBody = document.getElementById('productModalBody');
            let customizationHTML = '';
            
            if (product.customizable && product.options) {
                customizationHTML = `
                    <div class="customization-options">
                        <h4>Customize Your Order</h4>
                        ${product.options.map(option => {
                            if (option.type === 'select') {
                                return `
                                    <div class="option-group">
                                        <label>${option.label}</label>
                                        <select class="option-select" onchange="updateCustomization('${option.key}', this.value, ${productId})">
                                            ${option.options.map(opt => `
                                                <option value="${opt.value}">${opt.label} - ‚Çπ${opt.price}</option>
                                            `).join('')}
                                        </select>
                                    </div>
                                `;
                            }
                            return '';
                        }).join('')}
                        <div class="price-display" id="dynamicPrice">
                            Total: ‚Çπ${product.customizable ? product.basePrice : product.price}
                        </div>
                    </div>
                `;
            }
            
            // Generate thumbnails HTML
            const thumbnailsHTML = currentProductMedia.map((media, index) => {
                if (media.type === 'video') {
                    return `
                        <div class="product-thumbnail ${index === 0 ? 'active' : ''}" onclick="changeMainMedia(${index}, ${productId})">
                            <video muted loop playsinline>
                                <source src="${media.src}" type="video/mp4">
                                <img src="${media.thumbnail || 'images/products/default-thumbnail.jpg'}" alt="Video thumbnail">
                            </video>
                            <div class="video-thumbnail-icon">‚ñ∂</div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="product-thumbnail ${index === 0 ? 'active' : ''}" onclick="changeMainMedia(${index}, ${productId})">
                            <img src="${media.src}" alt="Image ${index + 1}" 
                                 onerror="this.style.display='none'; this.parentElement.innerHTML='<span>${product.emoji}</span>';">
                        </div>
                    `;
                }
            }).join('');
            
            // Main media container
            const mainMediaHTML = product.hasVideo ? `
                <div class="product-main-media-container" onclick="openMediaViewer(0, ${productId})">
                    <video class="product-main-media" id="productMainVideo" muted loop playsinline>
                        <source src="${product.video}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="video-play-button">‚ñ∂</div>
                    <div class="view-large-text">
                        <span>Click to view larger</span>
                    </div>
                </div>
            ` : `
                <div class="product-main-media-container" onclick="openMediaViewer(0, ${productId})">
                    <img src="${product.image}" alt="${product.name}" 
                         class="product-main-media"
                         id="productMainImage"
                         onerror="this.style.display='none'; this.parentElement.innerHTML='<span style=\'font-size: 48px;\'>${product.emoji}</span>';">
                    <div class="view-large-text">
                        <span>Click to view larger</span>
                    </div>
                </div>
            `;
            
            modalBody.innerHTML = `
                <div class="product-detail-grid">
                    <div class="product-detail-gallery">
                        ${mainMediaHTML}
                        <div class="product-thumbnails">
                            ${thumbnailsHTML}
                        </div>
                    </div>
                    <div class="product-detail-info">
                        <div class="category">${getCategoryName(product.category)}</div>
                        <h2>${product.name}</h2>
                        <p class="description">${product.details}</p>
                        <div class="specs">
                            <h4>Specifications</h4>
                            <p>${product.specs}</p>
                        </div>
                        ${customizationHTML}
                        <div class="modal-actions">
                            <button class="btn btn-primary" style="flex: 1;" onclick="addToCart(${product.id})">
                                ${product.customizable ? 'Add to Cart with Selected Options' : 'Add to Cart'}
                            </button>
                            <button class="btn btn-secondary" style="flex: 1;" onclick="closeProductModal()">
                                Continue Shopping
                            </button>
                        </div>
                        
                        <!-- Share Options - Updated with Instagram only -->
                        <div class="share-options">
                            <h4>Share this product</h4>
                            <div class="share-buttons">
                                <button class="share-btn whatsapp" onclick="shareProduct('whatsapp', ${product.id})">
                                    <span>Share on WhatsApp</span>
                                </button>
                                <button class="share-btn instagram" onclick="shareProduct('instagram', ${productId})">
                                    <span>Share on Instagram</span>
                                </button>
                                <button class="share-btn copy" onclick="shareProduct('copy', ${product.id})">
                                    <span>Copy Link</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('productModal').classList.add('active');
            
            // Auto-play video if it's a video product
            if (product.hasVideo) {
                const videoElement = document.getElementById('productMainVideo');
                if (videoElement) {
                    videoElement.play().catch(e => console.log("Video autoplay prevented:", e));
                }
            }
        }

        // Change main media when thumbnail is clicked
        function changeMainMedia(index, productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const media = currentProductMedia[index];
            const mainMediaContainer = document.querySelector('.product-main-media-container');
            const thumbnails = document.querySelectorAll('.product-thumbnail');
            
            if (media.type === 'video') {
                mainMediaContainer.innerHTML = `
                    <video class="product-main-media" id="productMainVideo" muted loop playsinline>
                        <source src="${media.src}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="video-play-button">‚ñ∂</div>
                    <div class="view-large-text">
                        <span>Click to view larger</span>
                    </div>
                `;
                
                // Auto-play the video
                setTimeout(() => {
                    const videoElement = document.getElementById('productMainVideo');
                    if (videoElement) {
                        videoElement.play().catch(e => console.log("Video autoplay prevented:", e));
                    }
                }, 100);
            } else {
                mainMediaContainer.innerHTML = `
                    <img src="${media.src}" alt="${product.name}" 
                         class="product-main-media"
                         id="productMainImage"
                         onerror="this.style.display='none'; this.parentElement.innerHTML='<span style=\'font-size: 48px;\'>${product.emoji}</span>';">
                    <div class="view-large-text">
                        <span>Click to view larger</span>
                    </div>
                `;
            }
            
            thumbnails.forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
            
            currentLightboxIndex = index;
        }

        // Open media viewer (lightbox for images, video player for videos)
        function openMediaViewer(index, productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const media = currentProductMedia[index];
            
            if (media.type === 'video') {
                // Open video lightbox
                const videoLightbox = document.getElementById('videoLightboxModal');
                const videoElement = document.getElementById('videoLightboxVideo');
                
                videoElement.src = media.src;
                videoElement.load();
                
                videoLightbox.classList.add('active');
            } else {
                // Open image lightbox
                currentLightboxIndex = index;
                const lightboxImage = document.getElementById('lightboxImage');
                const lightboxCounter = document.getElementById('lightboxCounter');
                
                lightboxImage.src = media.src;
                lightboxCounter.textContent = `${index + 1} / ${currentProductMedia.length}`;
                
                document.getElementById('lightboxModal').classList.add('active');
            }
        }

        // Close video lightbox
        function closeVideoLightbox() {
            const videoLightbox = document.getElementById('videoLightboxModal');
            const videoElement = document.getElementById('videoLightboxVideo');
            
            videoElement.pause();
            videoElement.currentTime = 0;
            videoLightbox.classList.remove('active');
        }

        // Close lightbox
        function closeLightbox() {
            document.getElementById('lightboxModal').classList.remove('active');
        }

        // Navigate to previous image in lightbox
        function prevLightboxImage() {
            if (currentProductMedia.length === 0) return;
            
            currentLightboxIndex = (currentLightboxIndex - 1 + currentProductMedia.length) % currentProductMedia.length;
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxCounter = document.getElementById('lightboxCounter');
            
            // Skip videos in image lightbox
            while (currentProductMedia[currentLightboxIndex].type === 'video') {
                currentLightboxIndex = (currentLightboxIndex - 1 + currentProductMedia.length) % currentProductMedia.length;
            }
            
            lightboxImage.src = currentProductMedia[currentLightboxIndex].src;
            lightboxCounter.textContent = `${currentLightboxIndex + 1} / ${currentProductMedia.length}`;
        }

        // Navigate to next image in lightbox
        function nextLightboxImage() {
            if (currentProductMedia.length === 0) return;
            
            currentLightboxIndex = (currentLightboxIndex + 1) % currentProductMedia.length;
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxCounter = document.getElementById('lightboxCounter');
            
            // Skip videos in image lightbox
            while (currentProductMedia[currentLightboxIndex].type === 'video') {
                currentLightboxIndex = (currentLightboxIndex + 1) % currentProductMedia.length;
            }
            
            lightboxImage.src = currentProductMedia[currentLightboxIndex].src;
            lightboxCounter.textContent = `${currentLightboxIndex + 1} / ${currentProductMedia.length}`;
        }

        // Close lightbox when clicking outside image
        document.getElementById('lightboxModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLightbox();
            }
        });

        // Close video lightbox when clicking outside
        document.getElementById('videoLightboxModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideoLightbox();
            }
        });

        // Keyboard navigation for lightbox
        document.addEventListener('keydown', function(e) {
            const lightbox = document.getElementById('lightboxModal');
            const videoLightbox = document.getElementById('videoLightboxModal');
            
            if (lightbox.classList.contains('active')) {
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    prevLightboxImage();
                } else if (e.key === 'ArrowRight') {
                    nextLightboxImage();
                }
            }
            
            if (videoLightbox.classList.contains('active') && e.key === 'Escape') {
                closeVideoLightbox();
            }
        });

        // Update customization selection
        function updateCustomization(key, value, productId) {
            const product = products.find(p => p.id === productId);
            if (!product || !product.customizable) return;
            
            const option = product.options.find(o => o.key === key);
            if (!option) return;
            
            const selectedOption = option.options.find(o => o.value === value);
            if (!selectedOption) return;
    
            currentCustomizations[key] = selectedOption;
            
            // Calculate and update price
            let totalPrice = product.basePrice;
            Object.values(currentCustomizations).forEach(opt => {
                totalPrice = opt.price; // Use the price from selected option
            });
            
            document.getElementById('dynamicPrice').textContent = `Total: ‚Çπ${totalPrice}`;
        }

        function closeProductModal() {
            document.getElementById('productModal').classList.remove('active');
            currentProductForShare = null;
            currentCustomizations = {};
            currentProductMedia = [];
        }

        // Share Product Function - Updated with Instagram only
        function shareProduct(platform, productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const productName = encodeURIComponent(product.name);
            const productDesc = encodeURIComponent(product.desc);
            const websiteLink = encodeURIComponent(window.location.href.split('#')[0] + '#product-' + productId);
            
            let shareUrl = '';
            let shareText = '';
            
            switch(platform) {
                case 'whatsapp':
                    shareText = `Check out this amazing product from ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ!%0A%0A‚ú® *${product.name}* ‚ú®%0A%0Aüìã *Description:* ${product.desc}%0A${product.customizable ? 'üí∞ *Starting from:* ' : 'üí∞ *Price:* '}${product.customizable ? `‚Çπ${product.basePrice}` : `‚Çπ${product.price}`}%0AüìÅ *Category:* ${getCategoryName(product.category)}%0A%0Aüëâ View it here: ${window.location.href.split('#')[0]}#product-${productId}%0A%0AShop more personalized gifts at ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ! üéÅ`;
                    shareUrl = `https://wa.me/?text=${shareText}`;
                    window.open(shareUrl, '_blank');
                    break;
                    
                case 'instagram':
                    // Instagram doesn't have a direct share API for web, so we'll open their app or website
                    shareText = `Check out ${product.name} from ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ! ${product.desc}`;
                    shareUrl = `https://www.instagram.com/`;
                    window.open(shareUrl, '_blank');
                    
                    // Show a message for Instagram
                    setTimeout(() => {
                        alert('For Instagram sharing, please use the Instagram app and share our profile: @nickycraft___');
                    }, 500);
                    break;
                    
                case 'copy':
                    const shareContent = `ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ - ${product.name}\n\n${product.desc}\n\n${product.customizable ? `Starting from: ‚Çπ${product.basePrice}` : `Price: ‚Çπ${product.price}`}\nCategory: ${getCategoryName(product.category)}\n\nView product: ${window.location.href.split('#')[0]}#product-${productId}\n\nShop personalized gifts at ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ!`;
                    
                    // Copy to clipboard
                    if (navigator.clipboard && window.isSecureContext) {
                        navigator.clipboard.writeText(shareContent).then(() => {
                            showCopyNotification();
                        });
                    } else {
                        // Fallback for older browsers
                        const textArea = document.createElement('textarea');
                        textArea.value = shareContent;
                        document.body.appendChild(textArea);
                        textArea.focus();
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            showCopyNotification();
                        } catch (err) {
                            console.error('Failed to copy: ', err);
                        }
                        document.body.removeChild(textArea);
                    }
                    break;
            }
        }

        function showCopyNotification() {
            const notification = document.getElementById('copyNotification');
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 2000);
        }

        // Contact Modal
        function openContactModal() {
            document.getElementById('contactModal').classList.add('active');
        }

        function closeContactModal() {
            document.getElementById('contactModal').classList.remove('active');
        }

        function submitContactForm(event) {
            event.preventDefault();
            
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const phone = document.getElementById('contactPhone').value;
            const message = document.getElementById('contactMessage').value;
            
            const whatsappMessage = `Hello! I'm interested in your products.%0A%0AName: ${name}%0AEmail: ${email}%0APhone: ${phone}%0A%0AMessage: ${message}`;
            const whatsappUrl = `https://wa.me/919926634010?text=${whatsappMessage}`;
            
            window.open(whatsappUrl, '_blank');
            closeContactModal();
            
            // Reset form
            event.target.reset();
        }

        // Cart Functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            let cartItem = { ...product };
            let price = product.customizable ? product.basePrice : product.price;
            let details = '';
            
            if (product.customizable && Object.keys(currentCustomizations).length > 0) {
                // Build details string from customizations
                details = Object.values(currentCustomizations).map(opt => {
                    return `${opt.label}`;
                }).join(', ');
                
                // Use price from the last selected option
                const lastOption = Object.values(currentCustomizations).pop();
                price = lastOption.price;
                
                cartItem.customDetails = details;
            }
            
            cartItem.finalPrice = price;
            cartItem.displayName = product.customizable ? 
                `${product.name} (${details || 'Standard'})` : 
                product.name;
            
            const existingItemIndex = cart.findIndex(item => 
                item.id === productId && 
                item.customDetails === (cartItem.customDetails || '')
            );
            
            if (existingItemIndex > -1) {
                cart[existingItemIndex].quantity++;
            } else {
                cartItem.quantity = 1;
                cart.push(cartItem);
            }
            
            updateCart();
            closeProductModal();
            
            // Show cart drawer
            toggleCart();
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        function updateCart() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartFooter = document.getElementById('cartFooter');
            const cartSubtotal = document.getElementById('cartSubtotal');
            const cartTotal = document.getElementById('cartTotal');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const subtotal = cart.reduce((sum, item) => sum + (item.finalPrice * item.quantity), 0);
            const totalPrice = subtotal + DELIVERY_CHARGE;
            
            cartCount.textContent = totalItems;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                cartFooter.style.display = 'none';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            ${item.emoji}
                        </div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.displayName}</div>
                            ${item.customDetails ? `<div class="cart-item-details">${item.customDetails}</div>` : ''}
                            <div class="cart-item-price">‚Çπ${item.finalPrice} √ó ${item.quantity}</div>
                        </div>
                        <button class="cart-item-remove" onclick="removeFromCart(${item.id})">√ó</button>
                    </div>
                `).join('');
                cartFooter.style.display = 'block';
                cartSubtotal.textContent = `‚Çπ${subtotal}`;
                cartTotal.textContent = `‚Çπ${totalPrice}`;
            }
        }

        function toggleCart() {
            const drawer = document.getElementById('cartDrawer');
            const overlay = document.getElementById('cartOverlay');
            drawer.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        // Checkout
        function proceedToCheckout() {
            toggleCart();
            document.getElementById('checkoutModal').classList.add('active');
        }

        function closeCheckoutModal() {
            document.getElementById('checkoutModal').classList.remove('active');
        }

        function submitCheckout(event) {
            event.preventDefault();
            
            const name = document.getElementById('checkoutName').value;
            const phone = document.getElementById('checkoutPhone').value;
            const address = document.getElementById('checkoutAddress').value;
            
            let orderItems = cart.map(item => `${item.displayName} (‚Çπ${item.finalPrice}) √ó ${item.quantity}`).join('%0A');
            const subtotal = cart.reduce((sum, item) => sum + (item.finalPrice * item.quantity), 0);
            const totalPrice = subtotal + DELIVERY_CHARGE;
            
            const whatsappMessage = `New Order from ùó°ùó∂ùó∞ùó∏ùòÜùó∞ùóøùóÆùó≥ùòÅ%0A%0Aüë§ Customer: ${name}%0Aüìû Phone: ${phone}%0Aüìç Address: ${address}%0A%0Aüì¶ Order Details:%0A${orderItems}%0A%0Aüí∞ Subtotal: ‚Çπ${subtotal}%0Aüöö Delivery Charge: ‚Çπ${DELIVERY_CHARGE}%0Aüíµ Total: ‚Çπ${totalPrice}`;
            const whatsappUrl = `https://wa.me/919926634010?text=${whatsappMessage}`;
            
            window.open(whatsappUrl, '_blank');
            
            // Clear cart
            cart = [];
            updateCart();
            closeCheckoutModal();
            
            // Reset form
            event.target.reset();
        }

        // Close modals on outside click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
